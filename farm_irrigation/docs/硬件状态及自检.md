# 设备状态查询与自检接口文档
## 接口概述
本文档包含两个核心接口：`设备状态查询接口`（用于获取指定设备的当前状态）和`设备自检触发接口`（用于触发指定设备的自检任务），支持多设备批量操作。

## 基础信息
- 网关地址：`http://101.201.78.54:8100`
- 响应格式：JSON
- 状态码说明：
  - 200：请求成功
  - 其他状态码：按实际业务场景扩展（如400参数错误、500服务器异常等）

## 接口详情

### 1. 设备状态查询接口
#### 接口描述
批量查询指定设备的当前状态，返回每个设备的唯一标识及对应状态。

#### 请求信息
- 请求路径：`/devices_status`
- 请求方法：GET
- 请求参数（Query参数）：

| 参数名          | 类型   | 是否必选 | 说明                                  | 示例值                     |
|-----------------|--------|----------|---------------------------------------|----------------------------|
| unique_no_list  | string | 是       | 设备唯一标识列表，支持多个重复参数传递 | 477379421064159253、477379421064159255 |

#### 请求示例
```http
GET http://101.201.78.54:8100/devices_status?unique_no_list=477379421064159253&unique_no_list=477379421064159255
```
```
{
  "code": 200,
  "data": [
    {
      "no": "477379421064159253",
      "status": "check_success"
    },
    {
      "no": "477379421064159255",
      "status": "check_success"
    }
  ],
  "message": "ok"
}
```
no: 设备编号
status 有：'initialized', 'scheduled', 'checking', 'check_success', 'check_failed'

### 2. 设备自检触发接口
#### 接口描述
批量触发指定设备的自检任务，系统接收任务后开始执行自检，返回任务接收结果。

#### 请求信息
- 请求路径：`/device_self_check`
- 请求方法：GET
- 请求参数（Query参数）：

| 参数名          | 类型   | 是否必选 | 说明                                  | 示例值                     |
|-----------------|--------|----------|---------------------------------------|----------------------------|
| unique_no_list  | string | 是       | 设备唯一标识列表，支持多个重复参数传递 | 477379421064159255、477379421064159253 |

#### 请求示例
```http
GET http://101.201.78.54:8100/device_self_check?unique_no_list=477379421064159255&unique_no_list=477379421064159253
```

```{
  "accepted_no_list": [477379421064159253, 477379421064159255],
  "code": 200,
  "message": "Task accepted, starting self checking"
}
```
